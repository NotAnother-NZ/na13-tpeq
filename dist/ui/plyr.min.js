(()=>{let PlyrAutoInitializer={players:{},observerActive:!1,currentContainer:null,isIOS:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,isMobileDevice:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),originalStyles:{},defaultThemeColor:"#121212",defaultBrandColor:"#674A3B",startObserving:function(){this.observerActive||(new MutationObserver(mutations=>{let shouldInitialize=!1;mutations.forEach(mutation=>{"childList"===mutation.type&&mutation.addedNodes.forEach(node=>{1===node.nodeType&&node.querySelector&&(node.querySelector("[data-dt-video-url]")||node.querySelector("[data-dt-video-play]"))&&(shouldInitialize=!0)})}),shouldInitialize&&this.initialize()}).observe(document.body,{childList:!0,subtree:!0}),this.observerActive=!0)},initialize:function(){this.cleanup();var videoTriggers=document.querySelectorAll("[data-dt-video-play]"),videoTriggers=(videoTriggers.length&&videoTriggers.forEach(trigger=>{let container=this.findVideoContainer(trigger);container&&(trigger.setAttribute("data-dt-video-container",container.id),trigger._hasVideoClickHandler||(trigger.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),this.handleVideoClick(container)}),trigger._hasVideoClickHandler=!0))}),document.querySelectorAll("[data-dt-video-url]"));videoTriggers.length&&videoTriggers.forEach(container=>{container.id||(container.id=`dt-video-${Date.now()}-`+Math.floor(1e3*Math.random())),this.applyThemeStyles(container),this.storeOriginalStyles(container),container._hasVideoClickHandler||(container.addEventListener("click",e=>{e.target.closest("[data-dt-video-play]")||(e.preventDefault(),e.stopPropagation(),this.handleVideoClick(container))}),container._hasVideoClickHandler=!0),this.ensureVideoElement(container)})},applyThemeStyles:function(container){var themeColor=container.getAttribute("data-dt-video-theme")||this.defaultThemeColor,brandColor=container.getAttribute("data-dt-video-brand-color")||this.defaultBrandColor,lighterBrandColor=this.lightenColor(brandColor,.2),themeId="plyr-theme-"+container.id;let styleElement=document.getElementById(themeId);styleElement||((styleElement=document.createElement("style")).id=themeId,document.head.appendChild(styleElement)),styleElement.textContent=`
            #${container.id} .plyr__control:hover,
            #${container.id} .plyr__control[aria-expanded=true] {
              background: ${themeColor} !important;
              color: #fff !important;
            }
            #${container.id} .plyr--full-ui input[type=range]::-webkit-slider-thumb,
            #${container.id} .plyr__progress input[type=range]::-webkit-slider-thumb,
            #${container.id} .plyr__volume input[type=range]::-webkit-slider-thumb {
              background-color: ${brandColor} !important;
            }
            #${container.id} .plyr--full-ui input[type=range]::-moz-range-thumb,
            #${container.id} .plyr__progress input[type=range]::-moz-range-thumb,
            #${container.id} .plyr__volume input[type=range]::-moz-range-thumb {
              background-color: ${brandColor} !important;
            }
            #${container.id} .plyr--full-ui input[type=range]::-ms-thumb,
            #${container.id} .plyr__progress input[type=range]::-ms-thumb,
            #${container.id} .plyr__volume input[type=range]::-ms-thumb {
              background-color: ${brandColor} !important;
            }
            #${container.id} .plyr__progress__buffer {
              background-color: ${lighterBrandColor} !important;
            }
            #${container.id} .plyr__progress input[type=range]::-webkit-slider-runnable-track {
              background-color: rgba(${this.hexToRgb(lighterBrandColor)}, 0.35) !important;
            }
            #${container.id} .plyr__progress input[type=range]::-moz-range-track {
              background-color: rgba(${this.hexToRgb(lighterBrandColor)}, 0.35) !important;
            }
            #${container.id} .plyr__progress input[type=range]::-ms-track {
              background-color: rgba(${this.hexToRgb(lighterBrandColor)}, 0.35) !important;
            }
            #${container.id} .plyr__volume input[type=range]::-webkit-slider-runnable-track {
              background-color: rgba(${this.hexToRgb(brandColor)}, 0.6) !important;
            }
            #${container.id} .plyr__volume input[type=range]::-moz-range-track {
              background-color: rgba(${this.hexToRgb(brandColor)}, 0.6) !important;
            }
            #${container.id} .plyr__volume input[type=range]::-ms-track {
              background-color: rgba(${this.hexToRgb(brandColor)}, 0.6) !important;
            }
            #${container.id} .plyr--video .plyr__progress__buffer {
              color: ${lighterBrandColor} !important;
            }
            #${container.id} .plyr__control--overlaid {
              background: ${themeColor} !important;
              color: #fff !important;
            }
            #${container.id} .plyr__menu__container {
              background: ${themeColor} !important;
              color: #fff !important;
            }
          `},hexToRgb:function(hex){hex=hex.replace(/^#/,"");let r,g,b;return b=3===hex.length?(r=parseInt(hex[0]+hex[0],16),g=parseInt(hex[1]+hex[1],16),parseInt(hex[2]+hex[2],16)):(r=parseInt(hex.slice(0,2),16),g=parseInt(hex.slice(2,4),16),parseInt(hex.slice(4,6),16)),`${r}, ${g}, `+b},lightenColor:function(hex,amount){hex=hex.replace(/^#/,"");let r,g,b;return b=3===hex.length?(r=parseInt(hex[0]+hex[0],16),g=parseInt(hex[1]+hex[1],16),parseInt(hex[2]+hex[2],16)):(r=parseInt(hex.slice(0,2),16),g=parseInt(hex.slice(2,4),16),parseInt(hex.slice(4,6),16)),r=Math.min(255,Math.round(r+(255-r)*amount)),g=Math.min(255,Math.round(g+(255-g)*amount)),b=Math.min(255,Math.round(b+(255-b)*amount)),"#"+r.toString(16).padStart(2,"0")+g.toString(16).padStart(2,"0")+b.toString(16).padStart(2,"0")},storeOriginalStyles:function(container){var key=container.id,thumbnail=(this.originalStyles[key]={container:{width:container.style.width,height:container.style.height,position:container.style.position,overflow:container.style.overflow}},container.querySelector("[data-dt-video-thumbnail]")),cs=(thumbnail&&(cs=window.getComputedStyle(thumbnail),this.originalStyles[key].thumbnail={display:thumbnail.style.display||"block",width:cs.width,height:cs.height,maxWidth:cs.maxWidth,maxHeight:cs.maxHeight,objectFit:cs.objectFit,cssText:thumbnail.style.cssText}),container.querySelector("[data-dt-video-play]"));cs&&(this.originalStyles[key].playButton={display:cs.style.display||"block",cssText:cs.style.cssText})},findVideoContainer:function(trigger){let current=trigger;for(;current;){if(current.hasAttribute("data-dt-video-url"))return current;current=current.parentElement}trigger=trigger.closest(".about-video-wrapper");return trigger&&trigger.hasAttribute("data-dt-video-url")?trigger:null},ensureVideoElement:function(container){let video=container.querySelector("video.video-element");return video?(video.setAttribute("playsinline",""),video.setAttribute("webkit-playsinline",""),video.setAttribute("x-webkit-airplay","allow"),video.playsInline=!0):((video=document.createElement("video")).className="video-element",video.style.display="none",video.style.width="100%",video.style.height="100%",video.style.objectFit="cover",video.setAttribute("playsinline",""),video.setAttribute("webkit-playsinline",""),video.setAttribute("x-webkit-airplay","allow"),video.playsInline=!0,video.controls=!1,container.appendChild(video)),video},handleVideoClick:function(container){this.currentContainer&&this.currentContainer!==container&&this.resetVideoContainer(this.currentContainer);let url;var playBtn,thumb,video;(url=this.isMobileDevice&&container.hasAttribute("data-dt-video-url-mobile")?container.getAttribute("data-dt-video-url-mobile"):container.getAttribute("data-dt-video-url"))&&(playBtn=container.querySelector("[data-dt-video-play]"),thumb=container.querySelector("[data-dt-video-thumbnail]"),video=this.ensureVideoElement(container),container._isPlaying||(thumb&&(thumb.style.visibility="hidden"),playBtn&&(playBtn.style.visibility="hidden"),video.style.display="block",video.style.position="absolute",video.style.top="0",video.style.left="0",video.style.width="100%",video.style.height="100%",video.style.objectFit="cover",(this.currentContainer=container)._isPlaying=!0,this.initializePlayer(container,video,url)))},initializePlayer:function(container,videoElement,videoUrl){if(this.players[container.id]){try{this.players[container.id].destroy()}catch{}delete this.players[container.id]}videoElement.innerHTML="";var source=document.createElement("source");if(source.src=videoUrl,source.type=this.getVideoType(videoUrl),videoElement.appendChild(source),this.isIOS){videoElement.muted=!0;let unmute=()=>{videoElement.muted=!1,document.removeEventListener("touchstart",unmute)};document.addEventListener("touchstart",unmute,{once:!0})}if(window.Plyr)try{var plyrVideo,opts={controls:["play","progress","current-time","mute","volume","fullscreen"],fullscreen:{enabled:!this.isIOS},autoplay:!0,muted:this.isIOS,loadSprite:!0,iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",iconPrefix:"plyr",resetOnEnd:!1,clickToPlay:!0,blankVideo:"https://cdn.plyr.io/static/blank.mp4",playsinline:!0},plyrContainer=(this.players[container.id]=new Plyr(videoElement,opts),container.querySelector(".plyr"));plyrContainer&&(plyrContainer.classList.add("video-element-plyr-container"),plyrContainer.style.position="absolute",plyrContainer.style.top="0",plyrContainer.style.left="0",plyrContainer.style.width="100%",plyrContainer.style.height="100%",plyrContainer.style.zIndex="1",plyrVideo=plyrContainer.querySelector("video"))&&plyrVideo!==videoElement&&(plyrVideo.className="video-element plyr-video",plyrVideo.setAttribute("playsinline",""),plyrVideo.setAttribute("webkit-playsinline",""),plyrVideo.setAttribute("x-webkit-airplay","allow"),plyrVideo.playsInline=!0,plyrVideo.style.width="100%",plyrVideo.style.height="100%",plyrVideo.style.objectFit="cover"),this.players[container.id].on("ended",()=>this.resetVideoContainer(container)),this.players[container.id].on("ready",()=>{this.players[container.id].play(),this.isIOS&&setTimeout(()=>{try{this.players[container.id].muted=!1}catch{}},500)}),this.players[container.id].on("pause",()=>{var playButton;this.players[container.id].ended||(playButton=container.querySelector("[data-dt-video-play]"))&&(playButton.style.visibility="")}),this.players[container.id].on("play",()=>{var playButton=container.querySelector("[data-dt-video-play]");playButton&&(playButton.style.visibility="hidden")})}catch{this.fallbackToNativeVideo(videoElement,container)}else this.fallbackToNativeVideo(videoElement,container)},fallbackToNativeVideo:function(videoElement,container){videoElement.className="video-element",videoElement.style.position="absolute",videoElement.style.top="0",videoElement.style.left="0",videoElement.style.zIndex="1",videoElement.setAttribute("playsinline",""),videoElement.setAttribute("webkit-playsinline",""),videoElement.setAttribute("x-webkit-airplay","allow"),videoElement.playsInline=!0,videoElement.controls=!0,videoElement.autoplay=!0,videoElement.style.width="100%",videoElement.style.height="100%",videoElement.style.objectFit="cover",this.isIOS&&(videoElement.muted=!0,setTimeout(()=>{try{videoElement.muted=!1}catch{}},500)),videoElement.addEventListener("pause",()=>{var playButton;videoElement.ended||(playButton=container.querySelector("[data-dt-video-play]"))&&(playButton.style.visibility="")}),videoElement.addEventListener("play",()=>{var playButton=container.querySelector("[data-dt-video-play]");playButton&&(playButton.style.visibility="hidden")}),videoElement.addEventListener("ended",()=>this.resetVideoContainer(container)),this.players[container.id]={element:videoElement,destroy:function(){this.element&&(this.element.removeEventListener("ended",()=>{}),this.element.removeEventListener("pause",()=>{}),this.element.removeEventListener("play",()=>{}),this.element.pause(),this.element.src="",this.element.load())}}},resetVideoContainer:function(container){if(container){var playBtn=container.querySelector("[data-dt-video-play]"),thumb=container.querySelector("[data-dt-video-thumbnail]"),videoEl=container.querySelector(".video-element");if(this.players[container.id]){try{this.players[container.id].destroy()}catch{}delete this.players[container.id]}var plyrContainer=container.querySelector(".plyr");plyrContainer&&plyrContainer.parentNode&&plyrContainer.parentNode.removeChild(plyrContainer),videoEl&&(videoEl.pause(),videoEl.src="",videoEl.load(),videoEl.style.display="none",videoEl.className="video-element",container.contains(videoEl)||container.appendChild(videoEl)),this.originalStyles[container.id]&&(plyrContainer=this.originalStyles[container.id],thumb&&plyrContainer.thumbnail&&(thumb.style.visibility="",thumb.style.cssText=plyrContainer.thumbnail.cssText),playBtn)&&plyrContainer.playButton&&(playBtn.style.visibility="",playBtn.style.cssText=plyrContainer.playButton.cssText),container._isPlaying=!1,this.currentContainer===container&&(this.currentContainer=null)}},getVideoType:function(url){switch(url.split(".").pop().split("?")[0].toLowerCase()){case"mp4":return"video/mp4";case"webm":return"video/webm";case"ogg":return"video/ogg";default:return"video/mp4"}},cleanup:function(){Object.keys(this.players).forEach(containerId=>{try{this.players[containerId]&&this.players[containerId].destroy()}catch{}}),this.players={},this.currentContainer&&(this.resetVideoContainer(this.currentContainer),this.currentContainer=null)}};function addCustomStyles(){var style=document.createElement("style");style.textContent=`
          [data-dt-video-url] { position: relative; }
          .video-element-plyr-container { width:100%!important;height:100%!important;object-fit:cover!important;position:absolute!important;top:0!important;left:0!important;z-index:1!important }
          .plyr video.video-element, .plyr--video .plyr__video-wrapper video.video-element { width:100%!important;height:100%!important;object-fit:cover!important;background:transparent!important }
          .video-element { position:absolute!important;top:0!important;left:0!important;width:100%!important;height:100%!important;z-index:1!important }
          .plyr__controls { background: rgba(0,0,0,0.7)!important; padding:5px 10px!important; border-radius:3px!important }
          .plyr__progress input[type=range], .plyr__volume input[type=range] { height:6px!important }
          .plyr--full-ui input[type=range] { display:block }
        `,document.head.appendChild(style)}"complete"===document.readyState||"interactive"===document.readyState?addCustomStyles():document.addEventListener("DOMContentLoaded",addCustomStyles),document.addEventListener("swup:contentReplaced",()=>{setTimeout(()=>PlyrAutoInitializer.initialize(),100)}),document.addEventListener("DOMContentLoaded",()=>{PlyrAutoInitializer.initialize(),PlyrAutoInitializer.startObserving()}),"complete"!==document.readyState&&"interactive"!==document.readyState||setTimeout(()=>{PlyrAutoInitializer.initialize(),PlyrAutoInitializer.startObserving()},100),window.PlyrAutoInitializer=PlyrAutoInitializer})(),window.App=window.App||{},window.App.Plyr={initialize:function(){window.PlyrAutoInitializer&&window.PlyrAutoInitializer.initialize()},playVideo:function(container){window.PlyrAutoInitializer&&(container="string"==typeof container?document.getElementById(container):container)&&window.PlyrAutoInitializer.handleVideoClick(container)},resetVideo:function(container){window.PlyrAutoInitializer&&(container="string"==typeof container?document.getElementById(container):container)&&window.PlyrAutoInitializer.resetVideoContainer(container)}};