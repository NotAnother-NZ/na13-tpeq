window.App=window.App||{},window.App.NotAnother={activeEmojis:[],activeTimers:{},hoverTargets:{},hasHoverCapability:function(){if(window.matchMedia&&window.matchMedia("(hover: none)").matches)return console.log("[NotAnother] Touch device detected (no hover capability)"),!1;return!("ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints)},cleanup:function(){this.activeEmojis.forEach(emoji=>{emoji.parentNode&&emoji.parentNode.removeChild(emoji)}),this.activeEmojis=[],Object.keys(this.activeTimers).forEach(key=>{clearTimeout(this.activeTimers[key]),delete this.activeTimers[key]}),this.hoverTargets={}},setupType1Animation:function(link,emojis){if(!link.querySelector(".not-another-emoji")){let emojiSpan=document.createElement("span");emojiSpan.className="not-another-emoji",emojiSpan.style.display="inline-block",emojiSpan.style.opacity="0",emojiSpan.style.transform="translateY(8px)",emojiSpan.style.transition="opacity 0.2s ease, transform 0.2s ease",link.appendChild(emojiSpan)}let emojiSpan=link.querySelector(".not-another-emoji"),animationFrame=null,isAnimating=!1,hasLeft=!1,animateEmoji=()=>{if(!isAnimating){isAnimating=!0;let startTime=null,animate=timestamp=>{timestamp-=startTime=startTime||timestamp;let scale=1;timestamp<140?scale=1+timestamp/140*.3:timestamp<280?scale=1.3-(timestamp-140)/140*.3:timestamp<420?scale=1+(timestamp-280)/140*.2:timestamp<700&&(scale=1.2-(timestamp-420)/280*.2),timestamp<700?(emojiSpan.style.transform=`translateY(0) scale(${scale})`,animationFrame=requestAnimationFrame(animate)):(emojiSpan.style.transform="translateY(0) scale(1)",isAnimating=!1,hasLeft||animateEmoji())};animationFrame=requestAnimationFrame(animate)}};link.addEventListener("mouseenter",()=>{hasLeft=!1;var randomEmoji=emojis[Math.floor(Math.random()*emojis.length)];emojiSpan.textContent=" "+randomEmoji,"undefined"!=typeof requestIdleCallback?requestIdleCallback(()=>{emojiSpan.style.opacity="1",emojiSpan.style.transform="translateY(0) scale(1)",animateEmoji()}):setTimeout(()=>{emojiSpan.style.opacity="1",emojiSpan.style.transform="translateY(0) scale(1)",animateEmoji()},0)}),link.addEventListener("mouseleave",()=>{hasLeft=!0,animationFrame&&(cancelAnimationFrame(animationFrame),animationFrame=null),isAnimating=!1,"undefined"!=typeof requestIdleCallback?requestIdleCallback(()=>{emojiSpan.style.opacity="0",emojiSpan.style.transform="translateY(8px) scale(1)"}):setTimeout(()=>{emojiSpan.style.opacity="0",emojiSpan.style.transform="translateY(8px) scale(1)"},0)}),this.hoverTargets[link.id]={type:1,animationFrame:animationFrame,cleanup:()=>{animationFrame&&cancelAnimationFrame(animationFrame)}}},setupType2Animation:function(link,emojis){link.id||(link.id="not-another-"+Math.random().toString(36).substr(2,9)),link.addEventListener("mousemove",event=>{this.activeTimers[link.id]||(this.activeTimers[link.id]=setTimeout(()=>{delete this.activeTimers[link.id];let emoji=document.createElement("div");emoji.classList.add("emoji-cursor"),emoji.innerHTML=emojis[Math.floor(Math.random()*emojis.length)],emoji.style.position="fixed",emoji.style.left=event.clientX+"px",emoji.style.top=event.clientY+"px",emoji.style.zIndex="9999",emoji.style.userSelect="none",emoji.style.pointerEvents="none",emoji.style.fontSize="0.85rem",emoji.style.transform="translate(-50%, -50%)",emoji.style.opacity="1",emoji.style.transition="transform 1s ease, opacity 1s ease",document.body.appendChild(emoji),this.activeEmojis.push(emoji),setTimeout(()=>{emoji.style.transform=`translate(-50%, calc(-50% - 40px)) rotate(${60*Math.random()-30}deg)`,emoji.style.opacity="0"},50),setTimeout(()=>{emoji.parentNode&&emoji.parentNode.removeChild(emoji);var index=this.activeEmojis.indexOf(emoji);-1<index&&this.activeEmojis.splice(index,1)},1e3)},100))}),link.addEventListener("mouseleave",()=>{this.activeTimers[link.id]&&(clearTimeout(this.activeTimers[link.id]),delete this.activeTimers[link.id])}),this.hoverTargets[link.id]={type:2,cleanup:()=>{this.activeTimers[link.id]&&(clearTimeout(this.activeTimers[link.id]),delete this.activeTimers[link.id])}}},initialize:function(){this.cleanup();let origin=encodeURIComponent(window.location.origin),emojis=["🚀","🌏","✨","🇳🇿","⚫️","🖤"];document.querySelectorAll("[data-not-another]").forEach(link=>{var campaign=link.getAttribute("data-not-another")||"client-footer";link.href!==`https://na.studio/?utm_source=${origin}&utm_medium=referral&utm_campaign=${encodeURIComponent(campaign)}&utm_content=na13`&&(link.href=`https://na.studio/?utm_source=${origin}&utm_medium=referral&utm_campaign=${encodeURIComponent(campaign)}&utm_content=na13`,link.target="_blank",link.rel="noopener noreferrer"),this.hasHoverCapability()&&(link.id||(link.id="not-another-"+Math.random().toString(36).substr(2,9)),"2"===(link.getAttribute("data-not-another-anim-type")||"1")?this.setupType2Animation(link,emojis):this.setupType1Animation(link,emojis))})},reinitialize:function(){this.initialize()}};