window.App=window.App||{},window.App.InsightsSorting={initialize:function(){document.querySelector("#insights-overview-section")&&document.querySelectorAll("[data-dt-sort-cms]").forEach(btn=>{btn.addEventListener("click",e=>{e.preventDefault();e=btn.getAttribute("data-dt-sort-cms");let container=document.querySelector(e),sortType=btn.getAttribute("data-dt-sort");btn.parentElement.querySelectorAll(".filter-sort-button").forEach(b=>{b.classList.remove("active")}),btn.classList.add("active"),container.style.transition="filter 0.5s ease",container.style.filter="blur(8px) opacity(0.5)",setTimeout(()=>{this.sortCards(sortType,container),container.style.filter="none"},300)})})},parseDate:function(dateStr){var dateStr=dateStr.split("/"),day=dateStr[0],year=2===dateStr[2].length?"20"+dateStr[2]:dateStr[2];return new Date(year,dateStr[1]-1,day)},sortCards:function(sortType,container){var cards=Array.from(container.querySelectorAll('[role="listitem"]'));cards.sort((a,b)=>{var dateA,dateB;return"latest"===sortType||"oldest"===sortType?(dateA=this.parseDate(a.querySelector("[data-dt-date-zero]").textContent.trim()),dateB=this.parseDate(b.querySelector("[data-dt-date-zero]").textContent.trim()),"latest"===sortType?dateB-dateA:dateA-dateB):"az"===sortType||"za"===sortType?(dateA=a.querySelector(".insights-overview-card-content h2").textContent.trim().toLowerCase())<(dateB=b.querySelector(".insights-overview-card-content h2").textContent.trim().toLowerCase())?"az"===sortType?-1:1:dateB<dateA?"az"===sortType?1:-1:0:0}),cards.forEach(card=>{container.appendChild(card)})}};